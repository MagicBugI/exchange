(this.webpackJsonpwaterfall=this.webpackJsonpwaterfall||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=(a(47),a(22)),u=a.n(o),i=a(40),s=a(4),f=(a(49),function(e){var t=[];for(var a in e.rates)t.push(r.a.createElement("option",{value:a,key:a},a));return r.a.createElement("form",null,r.a.createElement("fieldset",{className:"form-block"},r.a.createElement("input",{type:"number",className:"form-control",value:e.currentValue,onChange:e.currentPriceHandler}),r.a.createElement("select",{className:"form-control ",onChange:e.currentLabelChange},t)),r.a.createElement("fieldset",{className:"form-block"},r.a.createElement("input",{type:"number",className:"form-control",value:e.calculateValue()}),r.a.createElement("select",{className:"form-control",onChange:e.calculateLabelChange,value:e.calculateLabelValue},t)))}),m=(a(50),a(51),function(){return r.a.createElement("div",{className:"title"},r.a.createElement("a",{href:"/"},r.a.createElement("span",null,"Lawkakala ",r.a.createElement("small",null,"Exchange"))))}),b=a(41),h=(a(151),function(e){var t=e.charts,a=e.currentLabel,n=e.calculateLabel,c=[],l=[];t&&t.sort((function(e,t){return new Date(e.item)-new Date(t.item)})),t.map((function(e){c.push(e.item),l.push(e.val.toFixed(3))}));var o={labels:c,datasets:[{fill:!1,lineTension:.5,borderColor:"#f3eac2",borderWidth:2,data:l}]};return r.a.createElement("div",{className:"chart"},r.a.createElement(b.Line,{height:"100%",data:o,options:{title:{display:!0,text:"The rate ".concat(a," to ").concat(n),fontSize:20},legend:{display:!1,position:"top"},maintainAspectRatio:!1}}))});var p=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),o=Object(s.a)(l,2),b=o[0],p=o[1],v=Object(n.useState)("CAD"),g=Object(s.a)(v,2),E=g[0],d=g[1],C=Object(n.useState)("USD"),j=Object(s.a)(C,2),w=j[0],O=j[1],L=Object(n.useState)([]),y=Object(s.a)(L,2),D=y[0],N=y[1];Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return fetch("https://api.exchangeratesapi.io/latest?base=".concat(E),{signal:t}).then((function(e){return e.json()})).then((function(e){return c(e.rates)})),function(){e.abort()}}),[E]),Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,a=S();return fetch("https://api.exchangeratesapi.io/history?base=".concat(E,"&start_at=").concat(a[1],"&end_at=").concat(a[0],"&symbols=").concat(w),{signal:t}).then((function(e){return e.json()})).then((function(e){var t=[];for(var a in e.rates)t.push({item:a,val:e.rates[a][w]});N(t)})),function(){e.abort()}}),[w,E]);var S=function(){var e=new Date,t=new Date;t.setUTCDate(t.getUTCDate()-20);var a=function(e){var t=("0"+e.getUTCMonth()).slice(-2),a=("0"+e.getUTCDate()).slice(-2),n=e.getUTCFullYear().toString();return"".concat(n,"-").concat(t,"-").concat(a)};return[a(e),a(t)]},k=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){return(b*a[w]).toFixed(2)};return x(),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(m,null),r.a.createElement(f,{currentValue:b,calculateValue:x,rates:a,currentLabelChange:k,calculateLabelChange:function(e){O(e.target.value)},currentPriceHandler:function(e){p(e.target.value)},calculateLabelValue:w}),r.a.createElement(h,{charts:D,currentLabel:E,calculateLabel:w})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root"))},42:function(e,t,a){e.exports=a(152)},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){}},[[42,1,2]]]);
//# sourceMappingURL=main.2756df97.chunk.js.map