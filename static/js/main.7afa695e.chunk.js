(this.webpackJsonpwaterfall=this.webpackJsonpwaterfall||[]).push([[0],{149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=(a(47),a(22)),u=a.n(o),s=a(40),i=a(4),m=function(e){var t=[];for(var a in e.rates)t.push(r.a.createElement("option",{value:a,key:a},a));return r.a.createElement("form",null,r.a.createElement("fieldset",{className:"d-flex mb-3 "},r.a.createElement("input",{type:"number",className:"form-control",value:e.currentValue,onChange:e.currentPriceHandler}),r.a.createElement("select",{className:"form-control ",onChange:e.currentLabelChange},t)),r.a.createElement("fieldset",{className:"d-flex"},r.a.createElement("input",{type:"number",className:"form-control",value:e.calculateValue()}),r.a.createElement("select",{className:"form-control",onChange:e.calculateLabelChange},t)))},f=(a(49),function(){return r.a.createElement("h2",null,"Exchange rates ",r.a.createElement("small",null,"with currency conversion"))}),b=a(41),h=function(e){var t=e.charts,a=e.target,n=(e.current,[]),c=[];t.map((function(e,t){n.push(e.item),c.push(e.val)}));var l={labels:n,datasets:[{label:"".concat(a),data:c,backgroundColor:["rgb(75 , 192 ,192 , 0.6)"],borderWidth:3}]};return r.a.createElement(b.Line,{data:l})};var g=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),o=Object(i.a)(l,2),b=o[0],g=o[1],p=Object(n.useState)("CAD"),v=Object(i.a)(p,2),E=v[0],d=v[1],C=Object(n.useState)("CAD"),j=Object(i.a)(C,2),O=j[0],w=j[1],y=Object(n.useState)([]),N=Object(i.a)(y,2),x=N[0],D=N[1];Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return fetch("https://api.exchangeratesapi.io/latest?base=".concat(E),{signal:t}).then((function(e){return e.json()})).then((function(e){return c(e.rates)})),function(){e.abort()}}),[E]),Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,a=S();return fetch("https://api.exchangeratesapi.io/history?base=".concat(E,"&start_at=").concat(a[1],"&end_at=").concat(a[0],"&symbols=").concat(O),{signal:t}).then((function(e){return e.json()})).then((function(e){var t=[];for(var a in e.rates)t.push({item:a,val:e.rates[a][O]});console.log(t.sort((function(e,t){return e.item>t.item}))),D(t.sort((function(e,t){return e.item>t.item})))})),function(){e.abort()}}),[O,E]);var S=function(){var e=new Date,t=new Date;t.setUTCDate(t.getUTCDate()-20);var a=function(e){var t=("0"+e.getUTCMonth()).slice(-2),a=("0"+e.getUTCDate()).slice(-2),n=e.getUTCFullYear().toString();return"".concat(n,"-").concat(t,"-").concat(a)};return[a(e),a(t)]},k=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){return b*a[O]};return L(),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement(f,null),r.a.createElement(m,{currentValue:b,calculateValue:L,rates:a,currentLabelChange:k,calculateLabelChange:function(e){w(e.target.value)},currentPriceHandler:function(e){g(e.target.value)}})),r.a.createElement("div",{className:"container pt-5"},r.a.createElement(h,{charts:x,target:O})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))},42:function(e,t,a){e.exports=a(149)},47:function(e,t,a){},49:function(e,t,a){}},[[42,1,2]]]);
//# sourceMappingURL=main.7afa695e.chunk.js.map